# .gitmodules Documentation

## Overview

**FILE**: `git/.gitmodules`  
**PURPOSE**: Git submodule configuration for basketball statistics project

Defines external Git repositories (submodules) included in the project. Links to the legacy/archived version of the basketball statistics codebase.

---

## Full File Content

```properties
[submodule "Old-basketball-stats"]
	path = Old-basketball-stats
	url = https://github.com/SigmaCoder12205/Old-basketball-stats.git
```

---

## Submodule Definition

### Old-basketball-stats

```properties
[submodule "Old-basketball-stats"]
	path = Old-basketball-stats
	url = https://github.com/SigmaCoder12205/Old-basketball-stats.git
```

**Purpose**: Link to legacy/archived codebase

**Configuration**:
- **Name**: `Old-basketball-stats`
- **Path**: `Old-basketball-stats/` (directory in parent repo)
- **URL**: `https://github.com/SigmaCoder12205/Old-basketball-stats.git`

---

## Git Submodules Explained

### What is a Submodule?

**Definition**: Repository embedded inside another repository

**Characteristics**:
- Separate Git repository
- Tracked at specific commit (not latest)
- Appears as directory in parent repo
- Maintains own version history
- Can be updated independently

**Visual Representation**:
```
Parent Repo (basketball-stats)
├── .git/
├── .gitmodules              # Submodule configuration
├── utils/
├── testing/
└── Old-basketball-stats/    # Submodule (separate repo)
    ├── .git/                # Own Git history
    ├── Code/
    └── Database/
```

---

## Submodule Details

### Repository Information

**Name**: Old-basketball-stats  
**Owner**: SigmaCoder12205  
**URL**: https://github.com/SigmaCoder12205/Old-basketball-stats.git  
**Purpose**: Legacy codebase archive

**Contents** (based on folder structure):
```
Old-basketball-stats/
├── .vscode/
├── Blueprints/
│   ├── AppIdeas.txt
│   ├── Copy.txt
│   ├── designs.txt
│   └── Todo.txt
├── Code/
│   └── AccessingData.py
├── Database/
│   └── Data.json
├── testing/
│   ├── functionTesting.py
│   └── sandbox/
└── UI/
    └── PlayerReport.py
```

---

### Relationship to Current Project

**Legacy Code**: Old implementation  
**Current Code**: Refactored/improved version

**Comparison**:

| Aspect | Old-basketball-stats | Current Project |
|--------|---------------------|-----------------|
| Structure | `Code/AccessingData.py` | `utils/accessing_data.py` |
| GUI | `UI/PlayerReport.py` | `testing/player_report.py` |
| Testing | `testing/functionTesting.py` | `testing/test_file.py` |
| Documentation | `Blueprints/*.txt` | `doc/*.md` |
| Organization | Flat structure | Modular structure |

**Purpose of Inclusion**:
- Reference old implementation
- Compare approaches
- Preserve history
- Migration reference

---

## Working with Submodules

### Cloning with Submodules

**Initial Clone**:
```bash
# Option 1: Clone and initialize submodules
git clone <parent-repo-url>
cd basketball-stats
git submodule init
git submodule update

# Option 2: Clone with submodules in one step
git clone --recurse-submodules <parent-repo-url>
```

**Result**:
- Parent repo cloned
- `Old-basketball-stats/` directory created
- Legacy code checked out at tracked commit

---

### Updating Submodules

**Update to Latest Commit**:
```bash
# Navigate to submodule
cd Old-basketball-stats

# Fetch and merge latest changes
git pull origin main

# Return to parent repo
cd ..

# Record new submodule commit
git add Old-basketball-stats
git commit -m "Update Old-basketball-stats to latest"
```

**Update All Submodules**:
```bash
# From parent repo root
git submodule update --remote

# Commit changes
git add .gitmodules Old-basketball-stats
git commit -m "Update submodules to latest"
```

---

### Checking Submodule Status

**View Current State**:
```bash
# Check submodule status
git submodule status

# Output format:
# <commit-hash> <path> (<branch>)
# Example: 1a2b3c4d Old-basketball-stats (heads/main)
```

**Check for Updates**:
```bash
# See if submodule has new commits
git submodule update --remote --dry-run

# Show submodule differences
git diff --submodule
```

---

### Working Inside Submodule

**Navigate and Modify**:
```bash
# Enter submodule
cd Old-basketball-stats

# Submodule is a full Git repo
git status
git log
git branch

# Make changes (if needed)
git checkout -b feature-branch
# ... edit files ...
git commit -m "Update legacy code"

# Return to parent
cd ..
```

**Note**: Changes in submodule don't automatically affect parent repo

---

## Submodule States

### Commit Tracking

**Parent Repo Tracks**:
- Specific commit hash of submodule
- Not branch or tag
- Frozen at recorded commit

**Example**:
```bash
# Parent repo records
Old-basketball-stats @ commit 1a2b3c4d

# Even if submodule repo has newer commits (2e3f4g5h, 6i7j8k9l)
# Parent still points to 1a2b3c4d until manually updated
```

---

### Detached HEAD State

**Common Scenario**:
```bash
cd Old-basketball-stats
git status
# HEAD detached at 1a2b3c4d
```

**Why**: Submodules checked out at specific commit, not branch

**Normal Behavior**: Not an error, expected state

**If Need to Work**:
```bash
# Checkout branch
git checkout main

# Make changes
# ... edit ...
git commit -m "Changes"

# Update parent to track new commit
cd ..
git add Old-basketball-stats
git commit -m "Update submodule"
```

---

## File Location Note

**Current Location**: `git/.gitmodules`

**Standard Location**: `.gitmodules` (project root)

**Issue**: Git expects `.gitmodules` in repository root

**Impact**:
- `git/.gitmodules` NOT recognized by Git
- Submodule commands will fail
- Must be at root: `.gitmodules`

**Verification**:
```bash
# Check if Git recognizes submodules
git submodule status
# If error: No submodule mapping found

# Check file location
ls -la .gitmodules
# Should exist at root, not in git/
```

**Recommendation**:
```bash
# Move to standard location
mv git/.gitmodules .gitmodules

# Re-initialize submodules
git submodule init
git submodule update
```

---

## Common Workflows

### Setup for New Developer

**Clone and Initialize**:
```bash
# Clone parent repo
git clone <repo-url>
cd basketball-stats

# Initialize submodules
git submodule init
git submodule update

# Verify submodule present
ls -la Old-basketball-stats/
cd Old-basketball-stats/
git log --oneline -5
```

---

### Sync Submodule with Remote

**Update to Latest**:
```bash
# Update submodule to latest remote commit
git submodule update --remote Old-basketball-stats

# Review changes
git diff Old-basketball-stats

# Commit new submodule state
git add Old-basketball-stats
git commit -m "Update Old-basketball-stats submodule"
git push
```

---

### Remove Submodule

**Complete Removal**:
```bash
# 1. Remove submodule entry from .gitmodules
git config -f .gitmodules --remove-section submodule.Old-basketball-stats

# 2. Remove submodule entry from .git/config
git config -f .git/config --remove-section submodule.Old-basketball-stats

# 3. Remove from index
git rm --cached Old-basketball-stats

# 4. Remove directory
rm -rf Old-basketball-stats

# 5. Commit changes
git commit -m "Remove Old-basketball-stats submodule"
```

**Simpler Method (Git 1.8.3+)**:
```bash
git submodule deinit Old-basketball-stats
git rm Old-basketball-stats
git commit -m "Remove Old-basketball-stats submodule"
```

---

## Troubleshooting

### Submodule Not Initialized

**Error**: `Old-basketball-stats/` directory empty

**Cause**: Submodules not initialized after clone

**Solution**:
```bash
git submodule init
git submodule update

# Or retroactively
git submodule update --init --recursive
```

---

### Submodule Commit Mismatch

**Issue**: Different commit than expected

**Check Current State**:
```bash
git submodule status
# - 1a2b3c4d Old-basketball-stats (expected: 2e3f4g5h)
```

**Minus Sign (-) Indicates**: Submodule not checked out at recorded commit

**Solution**:
```bash
# Update to recorded commit
git submodule update Old-basketball-stats

# Or update to latest and record new state
git submodule update --remote Old-basketball-stats
git add Old-basketball-stats
git commit -m "Update submodule to latest"
```

---

### Changes in Submodule Not Tracking

**Issue**: Modified files in submodule, parent repo unaware

**Explanation**: Submodule changes must be committed in submodule first

**Workflow**:
```bash
# 1. Commit in submodule
cd Old-basketball-stats
git add .
git commit -m "Update legacy code"
git push origin main

# 2. Update parent to track new commit
cd ..
git add Old-basketball-stats
git commit -m "Update Old-basketball-stats submodule reference"
git push
```

---

### Submodule URL Changed

**Issue**: Submodule repository moved or renamed

**Update URL**:
```bash
# Edit .gitmodules
git config -f .gitmodules submodule.Old-basketball-stats.url <new-url>

# Sync to .git/config
git submodule sync

# Update submodule
git submodule update --remote

# Commit changes
git add .gitmodules
git commit -m "Update Old-basketball-stats URL"
```

---

## Best Practices

### When to Use Submodules

**Good Use Cases**:
- Including legacy/archived code (current use)
- Third-party libraries not in package managers
- Shared components across multiple projects
- Large binary assets in separate repo

**Avoid Submodules For**:
- Python packages (use pip/requirements.txt)
- Actively developed shared code (consider monorepo)
- Simple file sharing (use regular Git)

---

### Submodule Management

**Do**:
- Document submodule purpose in README
- Keep submodules at stable commits
- Update submodules deliberately
- Test after submodule updates

**Don't**:
- Modify submodule code directly (fork instead)
- Auto-update submodules without review
- Forget to commit submodule state changes
- Ignore submodule detached HEAD warnings

---

### Alternative: Archive Branch

**Instead of Submodule**:
```bash
# Create archive branch in same repo
git checkout --orphan archive/old-version
git add -A
git commit -m "Archive old codebase"
git push origin archive/old-version

# Switch back to main
git checkout main
```

**Benefits**:
- Single repository
- Simpler management
- No submodule complexity
- Easy comparison: `git diff archive/old-version main`

**Trade-off**: Larger single repository vs separate repositories

---

## Integration with Project

### Current State

**Submodule Present**: `Old-basketball-stats/`  
**Purpose**: Reference and comparison  
**Usage**: Historical archive, not active development

**Visibility in Parent**:
```bash
# Check submodule status
git submodule status
# Output: <commit> Old-basketball-stats (branch)

# View as directory
ls -la Old-basketball-stats/
# Shows legacy code structure
```

---

### Typical Developer Interaction

**Most Developers**:
- Clone without initializing submodule
- Focus on current codebase
- Submodule remains empty directory

**When Needed**:
```bash
# Initialize only when comparing implementations
git submodule update --init Old-basketball-stats

# Reference old code
cd Old-basketball-stats
git log
cat Code/AccessingData.py

# Compare with current
cd ..
diff Old-basketball-stats/Code/AccessingData.py utils/accessing_data.py
```

---

## Comparison: Old vs New

### Code Organization

**Old Structure** (Submodule):
```
Old-basketball-stats/
├── Code/
│   └── AccessingData.py        # Single file
├── UI/
│   └── PlayerReport.py         # Single file
└── testing/
    └── functionTesting.py      # Single file
```

**New Structure** (Current):
```
basketball-stats/
├── utils/
│   └── accessing_data.py       # Modular
├── testing/
│   ├── player_report.py        # Improved
│   └── test_file.py           # Better testing
└── doc/                        # Documentation added
    └── *.md
```

---

### Migration Path

**Reference Submodule**:
1. Check old implementation
2. Identify improvements needed
3. Refactor in current codebase
4. Document changes
5. Test thoroughly

**Example**:
```bash
# View old implementation
cd Old-basketball-stats
cat Code/AccessingData.py

# Compare with new
cd ..
cat utils/accessing_data.py

# Document differences in migration notes
```

---

## Related Files

### Git Configuration
- `.git/config` - Local Git config (includes submodule URL)
- `.git/modules/Old-basketball-stats/` - Submodule Git directory
- `Old-basketball-stats/.git` - Submodule working directory link

### Project Files
- Current codebase - Improved implementation
- Old submodule - Legacy reference

---

## Summary

`.gitmodules` configures Git submodules by:

**Defines**:
- Submodule name: `Old-basketball-stats`
- Directory path: `Old-basketball-stats/`
- Repository URL: `https://github.com/SigmaCoder12205/Old-basketball-stats.git`

**Purpose**:
- Link to legacy codebase
- Preserve project history
- Enable code comparison
- Reference old implementations

**Usage**:
- Historical archive (not active development)
- Comparison reference
- Migration documentation
- Learning from past approaches

**Critical Issues**:
1. **File Location**: Must be in project root (`.gitmodules`), not `git/.gitmodules`
2. **Initialization**: Requires explicit init/update after clone
3. **Management**: Submodule commits tracked separately

**Recommendations**:
- Move file to root for Git to recognize
- Document submodule purpose in README
- Consider if submodule necessary (vs archive branch)
- Initialize only when needed (not required for main development)

**Alternative Approach**: Use archive branch instead of submodule for simpler management